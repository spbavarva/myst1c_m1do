
Always check web config files

# History Files

View the contents of all the hidden history files in the user's home directory

```
cat ~/.*history | less
```

basically `.bash_history`

![[Pasted image 20240511110712.png]]

here password is set for mysql, but we can always try it for root by using `su root` as it's possible if root has same creds

> [!NOTE]
> Always check  same password for multiple users/root. Password spraying


# Config Files

![[Pasted image 20240511111101.png]]

Notice that we see `myvpn.ovpn` file, which is config file

password is stored at that directory and we can `cat` it


# SSH Keys

### authorize keys

suppose we get reverse shell with netcat and we want ssh shell for better purpose then put our public key in there so we can get access

#### generate priv-pub keys on victim

```
ssh-keygen -t rsa
```

![[Pasted image 20240511111907.png]]

it will make `.ssh` folder in that user directory

files will be `id_rsa` and `id_rsa.pub`

#### generate priv-pub keys on kali

```
ssh-keygen -t rsa
```


#### get access with it
now read public key
```
cat ~/.ssh/id_rsa.pub
```

copy keys and make new file in Victim as `authorized_keys` in `~/.ssh` folder

![[Pasted image 20240511112255.png]]

##### Or transfer that file in Linux and save as `authorized_keys`

##### SSH command
```
ssh user@$IP -oHostKeyAlgorithms=+ssh-rsa -oPubkeyAcceptedKeyTypes=+ssh-rsa
```

Basically just put our public key in victim and so that it will say user is authorized, let user in via SSH


### Private keys

It's great if we can read private keys of root or any other big user

just get that `id_rsa` from `/.ssh` folder

![[Pasted image 20240511112754.png]]

copy that file and crack it if it has passphrase with John
otherwise just do `ssh -i id_rsa`

Oh and never forget to change mode to 600

```
chmod 600 id_rsa

ssh -i id_rsa user@$IP -oHostKeyAlgorithms=+ssh-rsa -oPubkeyAcceptedKeyTypes=+ssh-rsa
```
